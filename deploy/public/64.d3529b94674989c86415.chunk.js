webpackJsonp([64],{"./app/containers/Vacancy/Test/TestQuestion/index.js":function(e,t,n){"use strict";function o(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:U,t=arguments[1];switch(t.type){case _:return e.set("question",Object(k.fromJS)({status:e.get("question").get("status"),item:t.payload}));case S:return e.set("question",Object(k.fromJS)({status:t.payload,item:e.get("question").get("item")}));case T:return e.set("submittingQuestion",!e.get("submittingQuestion"));case E:return Object(k.fromJS)(U);default:return e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function u(e){return{question:v(e),questionStatus:j(e),submittingQuestion:O(e)}}function c(e){return{getQuestion:function(t){return e(P(t))},submitQuestion:function(t,n){return e(I(t,n))},clearReducer:function(){return e(A())}}}Object.defineProperty(t,"__esModule",{value:!0});var a=n("./node_modules/react/index.js"),p=n.n(a),l=(n("./node_modules/prop-types/index.js"),n("./node_modules/react-redux/lib/index.js")),f=n("./node_modules/redux/lib/index.js"),d=n("./node_modules/react-spinners/index.js"),b=n("./app/utils/injectReducer.js"),y=n("./node_modules/reselect/lib/index.js"),m=function(e){return e.get("testQuestion").get("question")},g=function(e){return e.get("testQuestion")},j=Object(y.createSelector)(m,function(e){return e.get("status")}),v=Object(y.createSelector)(m,function(e){return e.get("item").toJS()}),O=Object(y.createSelector)(g,function(e){return e.get("submittingQuestion")}),h=n("./node_modules/react-toastify/lib/index.js"),Q=n("./node_modules/react-router-redux/index.js"),_="GET_QUESTION",T="CHANGE_SUBMIT_QUESTION_BUTTON_STATUS",S="CHANGE_STATE_QUESTION",E="CLEAR_QUESTION_REDUCER",w=n("./app/services/api/EmployeeTests.js"),x=n("./app/containers/Vacancy/Test/TestNavigation/actions.js"),q=function(){return Object(h.toast)("Time is out!",{hideProgressBar:!0,autoClose:1e7,type:h.toast.TYPE.ERROR})},N=function(){return{type:T}},C=function(){return{type:S,payload:"LOADING"}},R=function(){return{type:S,payload:"LOADED"}},A=function(){return{type:E}},I=function(e,t){return function(n,o){var r=o().get("testNavigation").get("currentQuestion").get("id");n(N()),Object(w.d)({questionId:r,answers:e.toJS(),type:t},function(){n(N()),n(Object(x.e)()),n(Object(x.d)(r))},function(e){n(N());var t=o().get("testNavigation").get("currentQuestion").get("vacancyId");e.response.status&&405===e.response.status&&(q(),n(Object(Q.push)("/employee/vacancy/"+t+"/")))},n)}},P=function(e){return function(t,n){t(C()),Object(w.a)(e,function(e){t({type:_,payload:e}),t(R())},function(e){var o=n().get("testNavigation").get("currentQuestion").get("vacancyId");e.response.status&&405===e.response.status&&(q(),t(Object(Q.push)("/employee/vacancy/"+o+"/")))},t)}},k=n("./node_modules/immutable/dist/immutable.js"),U=Object(k.fromJS)({question:{item:{},status:"NOT_LOADED"},submittingQuestion:!1}),D=o,J=n("./node_modules/react-loadable/lib/index.js"),L=n.n(J),G=L()({loader:function(){return n.e(67).then(n.bind(null,"./app/components/Vacancy/Test/Question/index.js"))},loading:function(){return null}});n.d(t,"TestQuestion",function(){return H});var B=function(){var e="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103;return function(t,n,o,r){var s=t&&t.defaultProps,i=arguments.length-3;if(n||0===i||(n={}),n&&s)for(var u in s)void 0===n[u]&&(n[u]=s[u]);else n||(n=s||{});if(1===i)n.children=r;else if(i>1){for(var c=Array(i),a=0;a<i;a++)c[a]=arguments[a+3];n.children=c}return{$$typeof:e,type:t,key:void 0===o?null:""+o,ref:null,props:n,_owner:null}}}(),M=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),V=B(d.PulseLoader,{color:"#0081c2",size:20}),H=function(e){function t(){return r(this,t),s(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,e),M(t,[{key:"componentDidMount",value:function(){this.props.getQuestion(this.props.testCurrentQuestion.id)}},{key:"componentWillReceiveProps",value:function(e){this.props.testCurrentQuestion&&e.testCurrentQuestion.id!==this.props.testCurrentQuestion.id&&this.props.getQuestion(e.testCurrentQuestion.id)}},{key:"componentWillUnmount",value:function(){this.props.clearReducer()}},{key:"renderQuestion",value:function(){return"LOADING"===this.props.questionStatus?V:B(G,{type:this.props.question.type,name:this.props.question.name,answers:this.props.question.answers?this.props.question.answers:void 0,submittingQuestion:this.props.submittingQuestion,submitQuestion:this.props.submitQuestion})}},{key:"render",value:function(){var e=this.renderQuestion();return B("div",{},void 0,e)}}]),t}(p.a.Component),W=Object(l.connect)(u,c),$=Object(b.a)({key:"testQuestion",reducer:D});t.default=Object(f.compose)($,W)(H)}});